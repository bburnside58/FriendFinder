<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Friend Finder</title>
	<!-- Latest compiled and minified CSS & JS -->
	<link href="favicon.ico" rel="icon" type="image/x-icon" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

</head>
<body>

<div class="container">
		<h2>Survey Questions</h2>
		<hr>
		<h3>About You</h3>
		<h4>Your Name (required)</h4>
		<input type="text" name="" id="name" class="form-control" required="">
		<h4>Link to photo image (required)</h4>
		<input type="text" name="" id="photo" class="form-control" required="">
		<hr>
		<h3>Question 1</h3>
		<h4>You find it difficult to introduce yourself to other people.</h4> 
		<select data-placeholder="" class="chosen-select" id="q1">
	 		<option value=""></option>
	        <option value="1">1 (Strongly Disagree)</option>
	        <option value="2">2</option>
	        <option value="3">3</option>
	        <option value="4">4</option>
	        <option value="5">5 (Strongly Agree)</option>
	  	</select>
      	<h3>Question 2</h3>
		<h4>You feel superior to other people.</h4>
		<select data-placeholder="" class="chosen-select" id="q2">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 3</h3>
		<h4>You do not mind being at the center of attention.</h4>
		<select data-placeholder="" class="chosen-select" id="q3">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 4</h3>
		<h4>Your work style is closer to random energy spikes than to a methodical and organized approach.</h4>
		<select data-placeholder="" class="chosen-select" id="q4">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 5</h3>
		<h4>You do not let other people influence your actions.</h4>
		<select data-placeholder="" class="chosen-select" id="q5">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 6</h3>
		<h4>Your emotions control you more than you control them.</h4>
		<select data-placeholder="" class="chosen-select" id="q6">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 7</h3>
		<h4>You often contemplate the reasons for human existence.</h4>
		<select data-placeholder="" class="chosen-select" id="q7">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 8</h3>
		<h4>You rarely feel insecure.</h4>
		<select data-placeholder="" class="chosen-select" id="q8">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 9</h3>
		<h4>You usually find it difficult to relax when talking in front of many people.</h4>
		<select data-placeholder="" class="chosen-select" id="q9">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<h3>Question 10</h3>
		<h4>You believe that it is more rewarding to be liked by others than to be powerful.</h4>
		<select data-placeholder="" class="chosen-select" id="q10">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

        <hr>

	<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
	<i class="glyphicon glyphicon-ok" aria-hidden="true">
	</i> Submit</button>

 	<hr>

 	<footer class="footer">
      <div class="container">
	        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/bburnside58/FriendFinder">GitHub Repo</a></p>
      </div>
	</footer>

</div>
<!-- <script type="text/javascript">
	  		$('#submit').on("click", function(){
	  			var value = $('#q1').val();
	  			console.log(value);
	  		})
	  		
	  	</script> -->
<script type="text/javascript">



















// Adding new friends to the list 
$(submit).on("click", function(){

	var newFriend = 
	{
		name: $("#name").val().trim(),
		photo: $("#photo").val().trim(),
		scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(),]		
	};

	var currentURL = window.location.origin;

	// post new data
	$.post( currentURL + "/api/new", newFriend)
		.done(function(data){
			console.log(data);	
		})
//put .get here?

	// var searchedCharacter = $("#characterSearch").val().trim();

	// searchedCharacter = searchedCharacter.replace(/\s+/g, '').toLowerCase();

	var currentURL = window.location.origin;

	$.get( currentURL + "/api/", function( data ) {

		var diff = [];

		for (var j = 0; j < data.length; j++){

			for (var i = 0; i < 10; i++) {

		    		num = Math.abs(newFriend.scores[i] - data[j].scores[i]);
		    		diff.push(num);
		   			
				}
		}
		console.log(data);
		 console.log(diff);
		


		// newbie = newFriend.scores;
		// console.log(newbie);
		// console.log(data[0].scores)
		// for (var i = 0; i < data.length; i++) {

		// 	var sum = data[i].scores.reduce(add, 0);

		// 	function add(a, b) {
		// 	    return a + b;
		// 	}

		// 	console.log(sum); //Prints the sum of all scores


		// 	var differenceTraits = Math.abs(newFriend.scores - data[i].scores) 
		// 	console.log(newFriend);

		// }
		//obj would equal the last posted additional friend on click
		//obj1 would be all on the objects in the array so obj[i] if in a for loop
		//Abs(obj.Param1-obj1.Param1) 

		//console.log(data);
		// if(data == false){
		// 	$("#name").text("The force is not strong with this one. Your character was not found. ");
		// 	$("#stats").hide();
		// }
		// else {
		// 	$("#stats").show();
		// 	$("#name").text(data.name);
		// 	$("#role").text(data.role);
		// 	$("#age").text(data.age);
		// 	$("#forcePoints").text(data.forcePoints);					
		// }

	});

	return false;

});	

</script>
</body>
</html>